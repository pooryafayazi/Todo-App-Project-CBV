{% load static %}
<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link rel="stylesheet" href="{% static 'main.css' %}">
</head>
<body>
    <div class="container">
        <h2>Register</h2>
        <form action="{% url 'accounts:register' %}" method="POST">            
            <h1 class="h3 mb-3 fw-normal">Please Register</h1>
            {% csrf_token %}
            <div class="form-floating">
                <input type="email" name="username" class="form-control" id="floatingInput" placeholder="name@example.com">
                <label for="floatingInput">Username</label>
            </div>
            <div class="form-floating">
                <input type="password" name="password1" label='Password' class="form-control mb-0" id="floatingPassword" placeholder="Password">
                <label for="floatingPassword">Password</label>
            </div>
            <div class="form-floating">
                <input type="password" name="password2" class="form-control" label='Confirm Password' id="floatingPassword" placeholder="Password">
                <label for="floatingPassword">Repeate Password</label>
            </div>
    
            {% if form.errors %}
                <div class="alert alert-danger">
                    <ul>
                        {% for field, errors in form.errors.items %}
                            {% for error in errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
            <button class="w-100 btn btn-lg btn-primary" type="submit">Register</button>
            <p class="mt-3 mb-2">Already have an account then <a href="{% url 'accounts:login' %}"> login</a></p>
            <p class="mt-5 mb-3 text-muted">&copy; 2017â€“2021</p>
        </form>

        {% if form.non_field_errors %}
            <div class="error">
                {{ form.non_field_errors }}
            </div>
        {% endif %}

        {% if error %}
            <div class="error">
                {{ error }}
            </div>
        {% endif %}

        <p>I've already have an account. <a href="{% url 'accounts:login' %}">Login</a></p>
    </div>
</body>
</html>